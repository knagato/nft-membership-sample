(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[891],{78096:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/associations/[id]",function(){return r(26740)}])},37673:function(e,n,r){"use strict";r.d(n,{Z:function(){return p}});var t=r(34051),s=r.n(t),i=r(85893),o=r(67294),a=r(9384),c=r(86434),l=r(35005),u=r(3335),d=r(10682),f=r(6212),h=r(45027),v=r(11163),m=r(5224);function x(e,n,r,t,s,i,o){try{var a=e[i](o),c=a.value}catch(l){return void r(l)}a.done?n(c):Promise.resolve(c).then(t,s)}function p(){var e=(0,v.useRouter)(),n=(0,h.$6)(),r=n.address,t=n.provider,p=n.chainId,j=n.connectWallet,b=(0,h.g0)().switchNetwork,g=new m.x9(null===t||void 0===t?void 0:t.getSigner()),Z=(0,o.useMemo)((function(){return g.getTokenModule("0x7B686d1EB972d16C160Ce9B74F5337C10691221E")}),[g]),y=(0,o.useState)(!1),w=y[0],N=y[1],k=function(){var n,t=(n=s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(4==p&&r)try{Z.balanceOf(r).then((function(n){n.value>0||(N(!0),e.push("/"))}))}catch(t){console.error(t)}case 1:case"end":return n.stop()}}),n)})),function(){var e=this,r=arguments;return new Promise((function(t,s){var i=n.apply(e,r);function o(e){x(i,t,s,o,a,"next",e)}function a(e){x(i,t,s,o,a,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();(0,o.useEffect)((function(){r&&k()}),[r]),(0,o.useEffect)((function(){4!=p&&b(4)}),[p]);var C=function(){return(0,i.jsx)(a.Z,{title:r,id:"basic-nav-dropdown",children:(0,i.jsx)(a.Z.Item,{onClick:$("/users/".concat(r)),children:"Profile"})})},E=function(){return(0,i.jsx)(c.Z.Link,{children:(0,i.jsx)(l.Z,{variant:"outline-primary",size:"sm",onClick:function(){return j("injected")},children:"Connect Wallet"})})},$=function(n){return function(r){r.preventDefault(),e.push(n)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{bg:"light",expand:"lg",children:(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(u.Z.Brand,{children:"Membership NFT Demo"}),(0,i.jsx)(u.Z.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,i.jsx)(u.Z.Collapse,{id:"basic-navbar-nav",children:(0,i.jsxs)(c.Z,{className:"me-auto",children:[(0,i.jsx)(c.Z.Link,{onClick:$("/"),children:"Home"}),(0,i.jsx)(c.Z.Link,{onClick:$("/token"),children:"Token"}),(0,i.jsx)(c.Z.Link,{onClick:$("/users"),children:"Users"}),(0,i.jsx)(c.Z.Link,{onClick:$("/associations"),children:"Associations"})]})}),(0,i.jsx)(c.Z,{className:"float-end",children:r?(0,i.jsx)(C,{}):(0,i.jsx)(E,{})})]})}),(0,i.jsxs)(f.Z,{show:w,onHide:function(){N(!1)},children:[(0,i.jsx)(f.Z.Header,{closeButton:!0,children:(0,i.jsx)(f.Z.Title,{children:"Alert"})}),(0,i.jsx)(f.Z.Body,{children:"This page requires a specific token"})]})]})}},26740:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return w}});var t=r(34051),s=r.n(t),i=r(85893),o=r(67294),a=r(11163),c=r(10682),l=r(21608),u=r(31555),d=r(86434),f=r(35005),h=r(78182),v=r(41330),m=r(75147),x=r(45155),p=r(37673),j=r(45027),b=r(5224),g=r(2593);function Z(e,n,r,t,s,i,o){try{var a=e[i](o),c=a.value}catch(l){return void r(l)}a.done?n(c):Promise.resolve(c).then(t,s)}function y(e){return function(){var n=this,r=arguments;return new Promise((function(t,s){var i=e.apply(n,r);function o(e){Z(i,t,s,o,a,"next",e)}function a(e){Z(i,t,s,o,a,"throw",e)}o(void 0)}))}}function w(){var e=(0,a.useRouter)(),n=e.query.id,r=(0,j.$6)(),t=r.address,Z=r.provider,w=r.chainId,N=new b.x9(null===Z||void 0===Z?void 0:Z.getSigner()),k=(0,o.useMemo)((function(){return N.getBundleDropModule("0x373E8c0Ba0aB93DD29eFA2c2496F0E115d2f7ffc")}),[N]),C=(0,o.useState)({}),E=C[0],$=C[1],P=function(){var e=y(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4!=w){e.next=7;break}return console.log("get nft"),e.next=4,k.get(n);case 4:r=e.sent,$(r),_(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=(0,o.useState)(),T=O[0],B=O[1],_=function(){var e=y(s().mark((function e(r){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4!=w){e.next=6;break}return console.log("get balance"),e.next=4,k.balanceOf(r,n);case 4:t=e.sent,B(t);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),S=(0,o.useState)([]),z=S[0],F=S[1],I=function(){var e=y(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4!=w){e.next=6;break}return console.log("get claimers"),e.next=4,k.getAllClaimerAddresses(n);case 4:r=e.sent,F(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){n&&t&&(P().catch(console.error),I().catch(console.error))}),[n,t]);var R,A,D=function(){var e=y(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("claim",t,n),!t){e.next=4;break}return e.next=4,k.claimTo(n,g.O$.from(1),t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(n){return function(r){r.preventDefault(),e.push("/users/".concat(n))}};return t&&4==w?(0,i.jsxs)("div",{children:[(0,i.jsx)(p.Z,{}),(0,i.jsx)(c.Z,{children:(0,i.jsx)(l.Z,{children:(0,i.jsxs)(u.Z,{children:[(0,i.jsxs)("h1",{className:"my-3",children:["NFT",(0,i.jsx)(d.Z,{className:"float-end",children:(0,i.jsx)(f.Z,{variant:"light",size:"sm",onClick:P,children:(0,i.jsx)(x.X2f,{})})})]}),(0,i.jsxs)(h.Z,{className:"my-4",children:[(0,i.jsxs)(h.Z.Body,{children:[(0,i.jsx)(h.Z.Title,{className:"mb-4",children:null===(R=E.metadata)||void 0===R?void 0:R.name}),(0,i.jsx)(h.Z.Text,{children:(0,i.jsx)(v.Z,{src:null===(A=E.metadata)||void 0===A?void 0:A.image,style:{width:200},fluid:!0,thumbnail:!0})})]}),(0,i.jsxs)(h.Z.Footer,{children:["Your Balance: ",null===T||void 0===T?void 0:T.toString(),(0,i.jsx)(f.Z,{className:"float-end",variant:"primary",onClick:D,children:"Claim"})]})]}),(0,i.jsxs)("h1",{className:"my-3",children:["Claimers",(0,i.jsx)(d.Z,{className:"float-end",children:(0,i.jsx)(f.Z,{variant:"light",size:"sm",onClick:I,children:(0,i.jsx)(x.X2f,{})})})]}),(0,i.jsxs)(m.Z,{className:"table-hover",children:[(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{children:(0,i.jsx)("th",{children:"Address"})})}),(0,i.jsx)("tbody",{children:z.map((function(e){return function(e){return console.log(e),(0,i.jsx)("tr",{children:(0,i.jsx)("td",{onClick:H(e),children:e})},e)}(e)}))})]})]})})})]}):(0,i.jsx)(p.Z,{})}},78182:function(e,n,r){"use strict";r.d(n,{Z:function(){return k}});var t=r(94184),s=r.n(t),i=r(67294),o=r(76792),a=r(66611),c=r(39602),l=r(85893);const u=i.forwardRef((({bsPrefix:e,className:n,variant:r,as:t="img",...i},a)=>{const c=(0,o.vE)(e,"card-img");return(0,l.jsx)(t,{ref:a,className:s()(r?`${c}-${r}`:c,n),...i})}));u.displayName="CardImg";var d=u,f=r(49059);const h=i.forwardRef((({bsPrefix:e,className:n,as:r="div",...t},a)=>{const c=(0,o.vE)(e,"card-header"),u=(0,i.useMemo)((()=>({cardHeaderBsPrefix:c})),[c]);return(0,l.jsx)(f.Z.Provider,{value:u,children:(0,l.jsx)(r,{ref:a,...t,className:s()(n,c)})})}));h.displayName="CardHeader";var v=h;const m=(0,c.Z)("h5"),x=(0,c.Z)("h6"),p=(0,a.Z)("card-body"),j=(0,a.Z)("card-title",{Component:m}),b=(0,a.Z)("card-subtitle",{Component:x}),g=(0,a.Z)("card-link",{Component:"a"}),Z=(0,a.Z)("card-text",{Component:"p"}),y=(0,a.Z)("card-footer"),w=(0,a.Z)("card-img-overlay"),N=i.forwardRef((({bsPrefix:e,className:n,bg:r,text:t,border:i,body:a,children:c,as:u="div",...d},f)=>{const h=(0,o.vE)(e,"card");return(0,l.jsx)(u,{ref:f,...d,className:s()(n,h,r&&`bg-${r}`,t&&`text-${t}`,i&&`border-${i}`),children:a?(0,l.jsx)(p,{children:c}):c})}));N.displayName="Card",N.defaultProps={body:!1};var k=Object.assign(N,{Img:d,Title:j,Subtitle:b,Body:p,Link:g,Text:Z,Header:v,Footer:y,ImgOverlay:w})},41330:function(e,n,r){"use strict";var t=r(94184),s=r.n(t),i=r(67294),o=r(45697),a=r.n(o),c=r(76792),l=r(85893);a().string,a().bool,a().bool,a().bool,a().bool;const u=i.forwardRef((({bsPrefix:e,className:n,fluid:r,rounded:t,roundedCircle:i,thumbnail:o,...a},u)=>(e=(0,c.vE)(e,"img"),(0,l.jsx)("img",{ref:u,...a,className:s()(n,r&&`${e}-fluid`,t&&"rounded",i&&"rounded-circle",o&&`${e}-thumbnail`)}))));u.displayName="Image",u.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},n.Z=u},75147:function(e,n,r){"use strict";var t=r(94184),s=r.n(t),i=r(67294),o=r(76792),a=r(85893);const c=i.forwardRef((({bsPrefix:e,className:n,striped:r,bordered:t,borderless:i,hover:c,size:l,variant:u,responsive:d,...f},h)=>{const v=(0,o.vE)(e,"table"),m=s()(n,v,u&&`${v}-${u}`,l&&`${v}-${l}`,r&&`${v}-striped`,t&&`${v}-bordered`,i&&`${v}-borderless`,c&&`${v}-hover`),x=(0,a.jsx)("table",{...f,className:m,ref:h});if(d){let e=`${v}-responsive`;return"string"===typeof d&&(e=`${e}-${d}`),(0,a.jsx)("div",{className:e,children:x})}return x}));n.Z=c},88357:function(e,n,r){"use strict";r.d(n,{w_:function(){return l}});var t=r(67294),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=t.createContext&&t.createContext(s),o=function(){return o=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},o.apply(this,arguments)},a=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(r[t[s]]=e[t[s]])}return r};function c(e){return e&&e.map((function(e,n){return t.createElement(e.tag,o({key:n},e.attr),c(e.child))}))}function l(e){return function(n){return t.createElement(u,o({attr:o({},e.attr)},n),c(e.child))}}function u(e){var n=function(n){var r,s=e.attr,i=e.size,c=e.title,l=a(e,["attr","size","title"]),u=i||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,l,{className:r,style:o(o({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&t.createElement("title",null,c),e.children)};return void 0!==i?t.createElement(i.Consumer,null,(function(e){return n(e)})):n(s)}},42480:function(){}},function(e){e.O(0,[129,349,158,351,231,774,888,179],(function(){return n=78096,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
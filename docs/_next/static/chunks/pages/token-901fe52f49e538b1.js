(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56],{72714:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/token",function(){return r(97984)}])},37673:function(e,n,r){"use strict";r.d(n,{Z:function(){return Z}});var t=r(34051),s=r.n(t),c=r(85893),i=r(67294),o=r(9384),l=r(86434),a=r(35005),u=r(3335),d=r(10682),h=r(6212),x=r(45027),f=r(11163),j=r(5224);function m(e,n,r,t,s,c,i){try{var o=e[c](i),l=o.value}catch(a){return void r(a)}o.done?n(l):Promise.resolve(l).then(t,s)}function Z(){var e=(0,f.useRouter)(),n=(0,x.$6)(),r=n.address,t=n.provider,Z=n.chainId,p=n.connectWallet,v=(0,x.g0)().switchNetwork,b=new j.x9(null===t||void 0===t?void 0:t.getSigner()),y=(0,i.useMemo)((function(){return b.getTokenModule("0x7B686d1EB972d16C160Ce9B74F5337C10691221E")}),[b]),k=(0,i.useState)(!1),g=k[0],w=k[1],C=function(){var n,t=(n=s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(4==Z&&r)try{y.balanceOf(r).then((function(n){n.value>0||(w(!0),e.push("/"))}))}catch(t){console.error(t)}case 1:case"end":return n.stop()}}),n)})),function(){var e=this,r=arguments;return new Promise((function(t,s){var c=n.apply(e,r);function i(e){m(c,t,s,i,o,"next",e)}function o(e){m(c,t,s,i,o,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();(0,i.useEffect)((function(){r&&C()}),[r]),(0,i.useEffect)((function(){4!=Z&&v(4)}),[Z]);var T=function(){return(0,c.jsx)(o.Z,{title:r,id:"basic-nav-dropdown",children:(0,c.jsx)(o.Z.Item,{onClick:O("/users/".concat(r)),children:"Profile"})})},N=function(){return(0,c.jsx)(l.Z.Link,{children:(0,c.jsx)(a.Z,{variant:"outline-primary",size:"sm",onClick:function(){return p("injected")},children:"Connect Wallet"})})},O=function(n){return function(r){r.preventDefault(),e.push(n)}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u.Z,{bg:"light",expand:"lg",children:(0,c.jsxs)(d.Z,{children:[(0,c.jsx)(u.Z.Brand,{children:"Membership NFT Demo"}),(0,c.jsx)(u.Z.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,c.jsx)(u.Z.Collapse,{id:"basic-navbar-nav",children:(0,c.jsxs)(l.Z,{className:"me-auto",children:[(0,c.jsx)(l.Z.Link,{onClick:O("/"),children:"Home"}),(0,c.jsx)(l.Z.Link,{onClick:O("/token"),children:"Token"}),(0,c.jsx)(l.Z.Link,{onClick:O("/users"),children:"Users"}),(0,c.jsx)(l.Z.Link,{onClick:O("/associations"),children:"Associations"})]})}),(0,c.jsx)(l.Z,{className:"float-end",children:r?(0,c.jsx)(T,{}):(0,c.jsx)(N,{})})]})}),(0,c.jsxs)(h.Z,{show:g,onHide:function(){w(!1)},children:[(0,c.jsx)(h.Z.Header,{closeButton:!0,children:(0,c.jsx)(h.Z.Title,{children:"Alert"})}),(0,c.jsx)(h.Z.Body,{children:"This page requires a specific token"})]})]})}},97984:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return N}});var t=r(34051),s=r.n(t),c=r(85893),i=r(67294),o=r(11163),l=r(75147),a=r(10682),u=r(21608),d=r(31555),h=r(78182),x=r(86434),f=r(35005),j=r(65927),m=r(6212),Z=r(96986),p=r(45155),v=r(37673),b=r(2593),y=r(35553),k=r(5224),g=r(45027);function w(e,n,r,t,s,c,i){try{var o=e[c](i),l=o.value}catch(a){return void r(a)}o.done?n(l):Promise.resolve(l).then(t,s)}function C(e){return function(){var n=this,r=arguments;return new Promise((function(t,s){var c=e.apply(n,r);function i(e){w(c,t,s,i,o,"next",e)}function o(e){w(c,t,s,i,o,"throw",e)}i(void 0)}))}}function T(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function N(){var e=(0,o.useRouter)(),n=(0,g.$6)(),r=n.address,t=n.provider,w=n.chainId,N=new k.x9(null===t||void 0===t?void 0:t.getSigner()),O=(0,i.useMemo)((function(){return N.getTokenModule("0x7B686d1EB972d16C160Ce9B74F5337C10691221E")}),[N]),B=(0,i.useState)(b.O$.from("0xd3c21bcecceda1000000")),S=B[0],E=B[1],L=(0,i.useState)({}),_=L[0],P=L[1],A=(0,i.useState)({name:"KNOMY Token",symbol:"KNOMY",decimals:18,displayValue:-1}),H=A[0],M=A[1],I=function(){var e=C(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4!=w||!r){e.next=6;break}return console.log("getbalance"),e.next=4,O.balanceOf(r);case 4:n=e.sent,M(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=C(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4!=w){e.next=6;break}return console.log("get total supply"),e.next=4,O.totalSupply();case 4:n=e.sent,E(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=C(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4!=w){e.next=6;break}return console.log("get holders"),e.next=4,O.getAllHolderBalances();case 4:n=e.sent,P(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){I(r),F(),G()}),[r]);var X=(0,i.useState)(!1),Y=X[0],$=X[1],z=function(){return $(!1)},D=(0,i.useState)({}),V=D[0],K=D[1],R=function(){var e=C(s().mark((function e(n){var r,t,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.to,t=n.amount,c=y.parseUnits(t,H.decimals),e.next=4,O.transfer(r,c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),U=function(e){return function(n){var r=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){T(e,n,r[n])}))}return e}({},V,T({},e,n.target.value));K(r)}},W=function(){var n=Object.keys(_).map((function(n,r){return(0,c.jsxs)("tr",{onClick:(t=n,function(n){n.preventDefault(),e.push("/users/".concat(t))}),children:[(0,c.jsx)("td",{children:r}),(0,c.jsx)("td",{children:n}),(0,c.jsx)("td",{children:_[n].div(b.O$.from(10).pow(H.decimals)).toString()})]},n);var t}));return(0,c.jsxs)(l.Z,{striped:!0,bordered:!0,hover:!0,children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"#"}),(0,c.jsx)("th",{children:"Address"}),(0,c.jsx)("th",{children:"Balance"})]})}),(0,c.jsx)("tbody",{children:n})]})};return r&&4==w?(0,c.jsxs)("div",{children:[(0,c.jsx)(v.Z,{}),(0,c.jsx)(a.Z,{children:(0,c.jsx)(u.Z,{children:(0,c.jsxs)(d.Z,{children:[(0,c.jsx)(h.Z,{className:"my-4",children:(0,c.jsxs)(h.Z.Body,{children:[(0,c.jsxs)(h.Z.Title,{className:"mb-4",children:["Token Info",(0,c.jsx)(x.Z,{className:"float-end",children:(0,c.jsx)(f.Z,{variant:"light",size:"sm",onClick:F,children:(0,c.jsx)(p.X2f,{})})})]}),(0,c.jsxs)(h.Z.Text,{children:[(0,c.jsxs)(j.Z.Group,{as:u.Z,className:"mb-3",children:[(0,c.jsx)(j.Z.Label,{column:!0,sm:2,children:"Token Name"}),(0,c.jsx)(d.Z,{sm:10,children:(0,c.jsx)(j.Z.Control,{type:"text",value:H.name,disabled:!0})})]}),(0,c.jsxs)(j.Z.Group,{as:u.Z,className:"mb-3",children:[(0,c.jsx)(j.Z.Label,{column:!0,sm:2,children:"Token Symbol"}),(0,c.jsx)(d.Z,{sm:10,children:(0,c.jsx)(j.Z.Control,{type:"text",value:H.symbol,disabled:!0})})]}),(0,c.jsxs)(j.Z.Group,{as:u.Z,className:"mb-3",children:[(0,c.jsx)(j.Z.Label,{column:!0,sm:2,children:"Total Supply"}),(0,c.jsx)(d.Z,{sm:10,children:(0,c.jsx)(j.Z.Control,{type:"text",value:S.div(b.O$.from(10).pow(H.decimals)).toString(),disabled:!0})})]})]})]})}),(0,c.jsx)(h.Z,{className:"my-4",children:(0,c.jsxs)(h.Z.Body,{children:[(0,c.jsxs)(h.Z.Title,{className:"mb-4",children:["Your Token",(0,c.jsx)(x.Z,{className:"float-end",children:(0,c.jsx)(f.Z,{variant:"light",size:"sm",onClick:I,children:(0,c.jsx)(p.X2f,{})})})]}),(0,c.jsxs)(h.Z.Text,{children:[(0,c.jsxs)(j.Z.Group,{as:u.Z,className:"mb-3",children:[(0,c.jsx)(j.Z.Label,{column:!0,sm:2,children:"Your Address"}),(0,c.jsx)(d.Z,{sm:10,children:(0,c.jsx)(j.Z.Control,{type:"text",value:r,disabled:!0})})]}),(0,c.jsxs)(j.Z.Group,{as:u.Z,className:"mb-3",children:[(0,c.jsx)(j.Z.Label,{column:!0,sm:2,children:"Your Balance"}),(0,c.jsx)(d.Z,{sm:10,children:(0,c.jsx)(j.Z.Control,{type:"number",value:H.displayValue>=0?H.displayValue:void 0,disabled:!0})})]}),(0,c.jsx)(f.Z,{className:"float-end",onClick:function(){return $(!0)},children:"Transfer"})]})]})}),(0,c.jsx)(h.Z,{className:"my-4",children:(0,c.jsxs)(h.Z.Body,{children:[(0,c.jsxs)(h.Z.Title,{className:"mb-4",children:["Token Holders",(0,c.jsx)(x.Z,{className:"float-end",children:(0,c.jsx)(f.Z,{variant:"light",size:"sm",onClick:G,children:(0,c.jsx)(p.X2f,{})})})]}),(0,c.jsx)(h.Z.Text,{children:(0,c.jsx)(W,{})})]})})]})})}),(0,c.jsxs)(m.Z,{show:Y,onHide:z,children:[(0,c.jsx)(m.Z.Header,{closeButton:!0,children:(0,c.jsx)(m.Z.Title,{children:"Transfer Token"})}),(0,c.jsx)(m.Z.Body,{children:(0,c.jsxs)(j.Z,{children:[(0,c.jsxs)(Z.Z,{controlId:"toaddress",children:[(0,c.jsx)(j.Z.Label,{children:"To Address"}),(0,c.jsx)(j.Z.Control,{type:"text",placeholder:"0x...",value:V.to,onChange:U("to")})]}),(0,c.jsxs)(Z.Z,{controlId:"body",children:[(0,c.jsx)(j.Z.Label,{children:"Amount"}),(0,c.jsx)(j.Z.Control,{type:"number",placeholder:"0",value:V.amount,onChange:U("amount")})]})]})}),(0,c.jsxs)(m.Z.Footer,{children:[(0,c.jsx)(f.Z,{variant:"secondary",onClick:z,children:"Close"}),(0,c.jsx)(f.Z,{variant:"primary",onClick:function(){R(V).then((function(e){z()}))},children:"Transfer"})]})]})]}):(0,c.jsx)(v.Z,{})}},42480:function(){}},function(e){e.O(0,[129,349,158,351,231,705,774,888,179],(function(){return n=72714,e(e.s=n);var n}));var n=e.O();_N_E=n}]);